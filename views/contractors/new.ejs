<% layout('layouts/pboilerplate') %> 
    <div class="row">
        <h1 class="text-center">
            New Contractor
        </h1>
        <div class="col-6 offset-3">
            <form action="/contractors" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="title">Name</label>
                    <input type="text" class="form-control" name="contractor[name]" id="title" placeholder="" required>

                    <label for="title">age</label>
                    <input type="number" class="form-control" name="contractor[age]" id="title" placeholder="" required>

                    <label for="title">Gender</label>
                    <input type="text" class="form-control" name="contractor[gender]" id="title" placeholder="" required>

                    <label for="title">Mobile no.</label>
                    <input type="number" class="form-control" name="contractor[phone]" id="title" placeholder="" required>

                    <label for="title">Aadhar Card no.</label>
                    <input type="text" class="form-control" name="contractor[adhaar]" id="title" placeholder="" required>
                </div>
                <div class="mb-3">
                    <button class="btn btn-success">Create</button>
                </div>

                                   
<style>
    #container {
       /* margin-top: 50px ;
       /* margin: 0px auto;*/
        width: 200px;
        height: 100px;
       /* border: 10px #333 solid; */
        background-image: url(snapshots/download.jpg);
        
    }
    #videoElement {
        width: 200px;
        height: 100px;
      
    }
    .no-padding
    {
      padding-left: 0;
      padding-right: 0;
    
    }
    
    #f_style
    {
        width: 100%;
        height: 70%;  
        margin-right: 10px; 
      
    }
    
    
    
    
    </style>
    
   
    
    <canvas id="CANVAS" name="CANVAS" width="200" height="100">Your browser does not support Canvas.</canvas>
      
        
        <div id="container"  name='cont' class="container-fluid no-padding ">
           <video autoplay="true" id="videoElement" name='vid'>
         
           </video>
        </div>
    
     <a id="download" download="face.jpg"></form>
    <button onclick="myFunction(); download();" align="center" style="margin: 20px 250px auto " class="btn btn-primary dropdown-toggle" type="button" >capture</button></a>
    <input type="file" id="myFile" name="filename">
  <input type="submit">
    
    <script>
    
      function download(){
        var download = document.getElementById("download");
        var image = document.getElementById("CANVAS").toDataURL("image/png")
                        .replace("image/jpg", "image/octet-stream");
            download.setAttribute("href", image);
            //download.setAttribute("download","archive.png");
      }
    
    
    
    
    
      var video = document.querySelector("#videoElement");
     
    if (navigator.mediaDevices.getUserMedia) 
    {       
        navigator.mediaDevices.getUserMedia({video: true})
      .then(function(stream) {
        video.srcObject = stream;
      })
      .catch(function(err0r) {
        console.log("Something went wrong!");
      });
    var i=0;
    function myFunction() {
      var x =  document.getElementById("CANVAS") ;
      var ctx = x.getContext("2d");
      ctx.fillStyle = "#FF0000";
      
      ctx.drawImage(video, 0, 0, 200, 100);
    
      //ctx.fillRect(20, 20, 150, 100);
    
      if (i <10)
      {
      document.body.appendChild(x);
      i=i+1;
    };
    
    
    }
    
    }
    </script>
    

                </div>
                
            </form>
        </div>

    </div>
